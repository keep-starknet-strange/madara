![thee BEEAAST](https://imgur.com/EBwBNnB.jpg)

# Обуздание зверя — Madara и революция Аппчейнов Starknet

**Июль 20,2023** · 1 мин чтения

<font size=5>_От значительного снижения затрат до персонализированного контроля
— откройте для себя будущее инфраструктуры блокчейн_</font>

---

## TL;DR

- Madara — это высокопроизводительный секвенсор Starknet, позволяющий создавать
  настраиваемые и эффективные
  [Аппчейны](https://www.starknet.io/en/posts/ecosystem/the-starknet-stacks-growth-spurt).
- Используя фреймворк Substrate, Madara расширяет возможности Cairo VM, что
  позволяет создавать доказуемые, безопасные и гибкие программы.
- Его реализация дает множество преимуществ, таких как масштабируемая
  инфраструктура, высокая пропускная способность и беспрецедентный контроль над
  приложениями.
- К уникальным особенностям Madara относятся поддержка потенциальной ончейн
  конфиденциальности транзакций, оптимизированное взаимодействие между
  различными блокчейнами и отказоустойчивое исполнение.
- Madara прокладывает путь в области разработки децентрализованных приложений,
  предлагая экономически эффективные, масштабируемые и настраиваемые блокчейн
  решения.

## Введение

Представьте, что у вас есть возможность создать блокчейн специально под
уникальные требования вашего приложения — это именно то, что предлагают
аппчейны. Аппчейны — это блокчейны, которые предоставляют разработчикам гибкость
в настройке отдельных аспектов в соответствии с потребностями их приложений,
например, в выборе альтернативной хэш-функции или кастомизации алгоритма
консенсуса. Но самое главное — аппчейны наследуют безопаснось базовых уровней
(L1 или L2) предоставляя разработчикам лучшее из обоих миров.

Представляем Madara — революционный секвенсор, сочетающий в себе гибкость и
молниеносную производительность. Секвенсоры — это сущности, отвечающие за
выполнение транзакций и их их группировку в пакеты (batches). Выступая в роли
шлюза для запуска вашего собственного аппчейна, Madara открывает невиданные
ранее возможности для экспериментов в экосистеме Starknet.

Прежде чем перейти к рассмотрению интересных возможностей Madara важно ответить
на вопрос, почему разработчики вдруг решат создавать аппчейны на базе Starknet,
а не использовать непосредственно решение
[Starknet Validity Rollups](https://starkware.co/resource/scaling-ethereum-navigating-the-blockchain-trilemma/#:~:text=top%20of%20them.-,Validity%20Rollups,-Validity%20rollups%2C%20also).
Можно предположить что и самой сети Starknet достаточно для большинства
сценариев.

Давайте сначала узнаем, почему аппчейны являются привлекательным расширением
экосистемы Starknet.

## Почему Аппчейны

Madara, разработанный командой StarkWare Exploration, также известной как
[Keep Starknet Strange](https://github.com/keep-starknet-strange), специально
создан для реализации концепции
[фрактального масштабирования StarkWare](https://medium.com/starkware/fractal-scaling-from-l2-to-l3-7fe238ecfb4f).
Существует множество веских причин, по которым разработчики могут предпочесть
создать L2 или L3 аппчейн вместо того, чтобы напрямую полагаться на Starknet.

### Пропускная способность

Разработчики приложений сталкиваются с серьезными проблемами в плане
масштабируемости в рамках существующей инфраструктуры блокчейна.
Масштабируемость включает в себя два важнейших аспекта: высокую скорость и
низкие комиссии. Снизив затраты в 1 000 раз на каждом уровне, разработчики могут
добиться общего снижения затрат от L1 до L3, потенциально достигающего 1 000 000
раз. Активность сторонних приложений не влияет на пропускную способность,
поскольку приложение имеет выделенный блокчейн и не конкурирует за ресурсы, тем
самым обеспечивая максимальное удобство пользователям.

### Настройка

В сетях общего назначения, таких как Starknet и Ethereum, существует множество
мер, направленных на обеспечение доступности для всех желающих, что приводит к
ограничениям среды исполнения. С помощью аппчейнов разработчики могут тонко
настраивать различные аспекты своих приложений и инфраструктуры, создавая
индивидуальные решения. Не нравится какая-то функция Cairo VM? Уберите ее в
своем аппчейне.

### Инновации

С помощью настроек аппчейнов разработчики смогут работать с ранее недоступными
или небезопасными функциями на платформах типа Starknet. Аппчейны предоставят
каждой команде автономию в написании и авторизации любых желаемых оптимизаций
генератора доказательств. Это откроет аппчейнам дорогу для множества сценариев
использования, например применения on-chain KYC (Know-Your-Customer) без утечки
личной информации.

## Влияние Madara на Аппчейн cтек

Давайте посмотрим на взаимодействие различных уровней, обеспечивающих работу
аппчейнов, и на то, какую роль здесь играет Madara.

1. **Исполнение:** Слой исполнения определяет то как выполняются блоки и
   генерируются обновления состояния. Madara предлагает гибкую возможность
   переключения между двумя библиотеками исполнения:
   [Blockifier от StarkWare](https://github.com/starkware-libs/blockifier) и
   [Starknet_in_rust от LambdaClass](https://github.com/lambdaclass/starknet_in_rust).
   Независимо от выбранного контейнера, в основе фреймворка используется
   виртуальная машина Cairo. Язык Cairo позволяет создавать доказуемые
   программы, что дает возможность продемонстрировать корректность произведенных
   вычислений.
2. **Расчеты:** Как и для любого validity роллапа, для восстановления состояния
   Madara аппчейна достаточно данных из расчетного слоя. За счет более частых
   расчетов на Starknet L2 аппчейн L3 может быстрее достичь "жесткой"
   финальности, а децентрализация уровня секвенирования обеспечивает более
   надежную "мягкую" финальность. Таким образом, расчеты улучшаются по обоим
   направлениям (жесткая и мягкая финальность).
3. **Секвенирование:** Madara берет на себя процесс секвенирования, который
   можно изменять в соответствии с потребностями приложения — будь то простые
   FCFS, PGA или более сложные схемы, такие как Narwhall и Bullshark. Некоторые
   аппчейны могут решить развернуть зашифрованные мемпулы для обеспечения
   справедливого упорядочивания и снижения влияния MEV.
4. **Доступность данных:** Доступность данных гарантирует, что полное дерево
   состояний остается доступным, что дает пользователям уверенность в том, что
   они смогут доказать право собственности на свои средства даже в случае сбоя в
   работе Madara. Madara предложит разработчикам на выбор несколько схем
   обеспечения доступности данных (DA).
5. **Управление:** Каждый аппчейн Madara может выбрать свою модель управления.
   [Snapshot X](https://twitter.com/SnapshotLabs)предлагает полностью ончейн
   систему управления, которая опирается на доказательства хранения. Также
   изучаются альтернативные механизмы управления, такие как нативный модуль
   управления из фреймворка Substrate. Ончейн-управление является одной из
   основных ценностей Madara.

![come come](https://lh4.googleusercontent.com/i7bXi2IPV-LTLzEgueA2SPHGULUFDj1OX4IznOQr5BeZe0hcey-VXA5TOV6q9XaVqBGAcYiie7u7uxw7q1ByZxjkPQKHERqKJTxhdDdTSgBQy8smyNO3jEHiNJv7Eqh8BMxjj4fFlQAW6gm-hQMzyIU)

## Восхождение Madara

В Madara виртуальная машина Cairo улучшена за счет использования фреймворка
Substrate и интеграции в него возможности исполнять смарт-контракты Starknet.
Substrate — это известный своей гибкостью Rust фреймворк с открытым исходным
кодом для создания кастомизированных блокчейнов. В то же время Cairo VM
разработана специально для эффективного создания доказательств достоверного
выполнения программ. Используя отслеживание состояния и смарт-контракт для
проверки этих доказательств на L2, аппчейн обеспечивает безопасную интеграцию со
Starknet. Таким образом, Madara использует возможности Cairo для обеспечения
доказуемости вычислений.

Присущая фреймворку Substrate модульность позволяет разработчикам с легкостью
настраивать свой аппчейн. Все компоненты фреймворка заменяемы, что позволяет
использовать собственный протокол консенсуса, хэш-функцию, схему подписи, схему
хранения — все, что требуется вашему приложению, и все это при использовании
Cairo для генерации доказательств. Ничто не ограничивает разрабочиков в том что
они могут создать, при этом вычисления остаются доказуемыми, а система наследует
безопасность базового чейна — Starknet или Ethereum.

На начальном этапе Madara будет иметь большое сходство с тем как работает
Starknet, что обеспечит совместимость на уровне смарт-контрактов. Большие планы
возлагаются на будущую масштабную интеграция Starknet с
[Herodotus](https://www.herodotus.dev/), которая позволит использовать
[доказательства хранения данных](https://starkware.medium.com/what-are-storage-proofs-and-how-can-they-improve-oracles-e0379108720a)
для достижения нового уровня совместимости контрактов. Интеграция доказательств
хранения также позволит аппчейнам на основе Madara получать доступ к состоянию и
ликвидности других аппчейнов.

Приготовьтесь стать свидетелями новой эры возможностей в мире Starknet,
созданной Madara.
